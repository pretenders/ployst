[tox]
envlist = py27

[testenv]
whitelist_externals=
    jshint
    karma
deps =
    -r{toxinidir}/requirements/dev.txt
commands =
    flake8 ployst
    jshint ployst
    karma start --single-run
    python manage.py test
    sphinx-build -b html docs/source docs/build

[testenv:mac]
setenv =
    CFLAGS=-Qunused-arguments
    CPPFLAGS=-Qunused-arguments

[flake8]
exclude=migrations,docs
max-complexity=7
