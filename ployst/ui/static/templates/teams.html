<main-menu menu-collapsed="true"></main-menu>
<menu-teams></menu-teams>

<div class="sidebar-rest">
    <div ng-if="team && (team !== 'unknown')">
        <div class="container-fluid">
            <h2><i class="fa fa-group"></i> Team {{ team.name }}</h2>
            <div class="row-fluid">
                <h4><i class="fa fa-user"></i> Users</h4>
                <ul class="fa-ul">
                    <li ng-repeat="user in team.users">
                        <i ng-if="isManager(team, user)"
                            class="fa fa-fw fa-star" title="manager"></i>
                        <i ng-if="!isManager(team, user)"
                            class="fa fa-fw"></i>
                        <span>{{ user.username }}</span>
                    </li>
                    <li ng-if="isManager(team, user)">
                        <h5>Invite a user to join {{ team.name }}:</h5>
                        <input ng-model="newUser.email" name="email" placeholder="email..."></input>
                        <i ng-click="inviteUser(team, newUser)"
                            class="fa fa-fw fa-lg fa-plus-square icon-clickable"
                            title="Invite a User"></i>
                    </li>
                </ul>
            </div>
            <div class="row-fluid">
                <h4><i class="fa fa-folder"></i> Projects</h4>
                <ul class="fa-ul">
                    <li ng-repeat="project in team.projects">
                        <i ng-if="isManager(team, user)"
                            ng-click="deleteProject(project)"
                            class="fa fa-fw fa-lg fa-times-circle icon-clickable text-danger"
                            title="Delete"/></i>
                        <a href="{{ project.url }}" target="_blank">{{ project.name }}</a>
                    </li>
                    <li ng-if="isManager(team, user)">
                        <h5>Create a project:</h5>
                        <input ng-model="newProject.name" name="name" placeholder="name..."></input>
                        <input ng-model="newProject.url" name="url" placeholder="URL..."></input>
                        <i ng-click="createProject(team, newProject)"
                            class="fa fa-fw fa-lg fa-plus-square icon-clickable"
                            title="Create Project"></i>
                    </li>
                </ul>
            </div>
            <div class="row-fluid">
                <div class="btn-group">
                    <button ng-if="isManager(team, user)" ng-click="deleteTeam(team)"
                            type="button" class="btn btn-small btn-danger">
                        Delete {{ team.name }}
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div ng-if="!team" class="row-fluid">
        <div class="alert alert-info">
            <strong>You have no teams yet.</strong> Why don't you go ahead and create one?
        </div>
    </div>
</div>
