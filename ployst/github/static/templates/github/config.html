<p ng-if="hasToken === null">
    Loading...
</p>

<div ng-if="hasToken === false">
    <p>You still haven't authorised ployst to access your Github account.</p>
    <a href="/providers/github/oauth-start/" class="btn btn-primary">Assimilate Github account</a>
</div>


<div ng-if="hasToken">
    <ul class="list-unstyled col-md-3">
        <h4>Your Organisations</h4>
        <li ng-repeat="org in organisations"
            ng-class="{'list-group-item-warning': org===selectedOrganisation}"
            ng-click="selectOrganisation(org)">
            <img src="{{ org.avatar_url }}" width=32 height=32> {{ org.login }}
        </li>
    </ul>
    <div ng-if="selectedOrganisation" class="col-md-9">
        <p class="well">
            <strong>{{ selectedOrganisation.login }}</strong>
            <small class="text-muted" ng-if="selectedOrganisation.type==='User'">(personal account)</small>
            <span class="btn-group pull-right">
                <a class="btn btn-small btn-info"
                   title="Import organisation as team, and all repos as projects">
                    <i class="fa fa-group"></i> import as team
                </a>
            </span>
        </p>
        <h5>Repositories</h5>
        <ul class="list-group actionable-list" ng-show="repos.length">
            <li ng-repeat="repo in repos"
                class="list-group-item">
                <span title="{{ repo.description }}">{{ repo.name }}</span>
                <i ng-if="repo.fork" class="fa fa-fw fa-code-fork"></i>
                <span class="pull-right">
                    <a class="hover-options" href="{{ repo.html_url }}" target="_blank"><i class="fa fa-fw fa-github-alt"></i> github</a>
                    <a><i class="fa fa-fw fa-folder"></i> import</a>
                </span>
            </li>
        </ul>
        <p class="alert alert-info" ng-show="repos.length === 0">No repos found.</p>
        <p ng-show="!repos">Loading...</p>
    </div>
</div>
